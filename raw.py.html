<html>
<head>
<title>rabbits.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #808080;}
.s4 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
rabbits.py</font>
</center></td></tr></table>
<pre><span class="s0">from </span><span class="s1">__future__ </span><span class="s0">import </span><span class="s1">print_function</span><span class="s0">, </span><span class="s1">division</span>
<span class="s0">import </span><span class="s1">numpy </span><span class="s0">as </span><span class="s1">np</span>
<span class="s0">import </span><span class="s1">matplotlib</span>
<span class="s0">import </span><span class="s1">matplotlib.pyplot </span><span class="s0">as </span><span class="s1">plt</span>
<span class="s0">import </span><span class="s1">matplotlib.animation </span><span class="s0">as </span><span class="s1">animation</span>
<span class="s0">import </span><span class="s1">math</span>
<span class="s0">import </span><span class="s1">altair </span><span class="s0">as </span><span class="s1">alt</span>
<span class="s0">import </span><span class="s1">pandas </span><span class="s0">as </span><span class="s1">pd</span>

alt.renderers.enable(<span class="s2">'notebook'</span><span class="s1">)</span>

<span class="s0">def </span><span class="s1">is_int(val):</span>
    <span class="s0">if </span><span class="s1">type(val) == int:</span>
        <span class="s0">return True</span>
    else<span class="s1">:</span>
        <span class="s0">if </span><span class="s1">val.is_integer():</span>
            <span class="s0">return True</span>
        else<span class="s1">:</span>
            <span class="s0">return False</span>

<span class="s3"># for much of the data, unless otherwise noted I will be using http://www.rabbitfreeaustralia.com.au/ as a source</span>

# for the sake of experimentation, the number of rabbits first introduced to Australia, growth rate, and time (in months)
# will be variables to change

# since rabbits have an average gestation period of approximately one month, we can assume in worst case scenario that
# each pair of rabbits is producing one child each month - or in short that the population is increasing by 50% each
# month for a growth rate of 0.5 and assume that the death rate of rabbits is 7% of their population per month.

<span class="s1">i = </span><span class="s4">100 </span><span class="s3"># initial rabbit population</span>
<span class="s1">g = </span><span class="s4">0.5 </span><span class="s3"># growth rate</span>
<span class="s1">d = </span><span class="s4">0.07 </span><span class="s3"># death rate</span>
<span class="s1">t = </span><span class="s4">12 </span><span class="s3"># time (months)</span>

<span class="s0">def </span><span class="s1">rab1(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">d):</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        rab = i * math.exp((g-d)*month)
        plt.scatter(month<span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'red'</span><span class="s1">)</span>
        plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
        plt.ylabel(<span class="s2">'Total number of rabbits'</span><span class="s1">)</span>
        plt.title(<span class="s2">'Rabbit growth per month'</span><span class="s1">)</span>

rab1(t<span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># this is just the first step in establishing a baseline model of rabbit growth</span>

# since we cannot accurately estimate many parameters in the model (the initial number of rabbits introduced or when),
# and the only data I can find of rabbits left unchecked is the 10 billion estimate from 1920, worst-case scenario will
# be assumed for rabbit population growth - that is to say, if left unchecked the rabbits will never reach a carrying
# capacity and will continue to produce children at the same rate

# Assume there are two methods of rabbit population control: control over birth rate and death rate.

# Looking around, I can find there are existing models. For instance, there is this one  https://www.researchgate.net/publication/306258120_Mathematical_model_for_pest-insect_control_using_mating_disruption_and_trapping
# that uses an ordinary differential equation accounting for infertile young, males, females, and fertilized females
# each with different rates of mortality as well as taking into account the time it take for a young to become fertile
# and for a female to become inseminated.

# to be perfectly honest, this model is probably the most comprehensive that could be achieved, and something similar
# to it is likely what is being used in Australia.

# it is reasonable to assume that, given how well-adapted the rabbits are to Australia, that the extinction point is
# very low to the point of being nonexistent and the capacity is incredibly high. Additionally, while the deer model
# was intending on keeping the deer above their extinction level, the rabbit population is intended to be completely
# removed from Australia, so the goal is instead to find a way to reduce it below the extinction point.

# we will assume, in this case, that the extinction point is 10 rabbits, and the carrying capacity is 10 billion rabbits,
# as 10 billion is the number of rabbits on the highest recorded point in history.

# We will also assume that any poison we may use to control the rabbit population will reduce in effectiveness over time.
# I will assume the poison starts at a 90% mortality rate which reduces by 5% per year.

# I will also assume that due to the control of birth rates that the rabbit birth rate will be reduced by 0.05

# for simplicity's sake, the numbers will be presented in millions. For starters, I'll test if Australia could find a way
# to eliminate the rabbit problem with a single run of this hypothetical poison, which would mean in 10 years

# to illustrate an example of unchecked rabbit growth over 10 years, accounting for carrying capacity of 10 billion

<span class="s0">def </span><span class="s1">rab2(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">d</span><span class="s0">, </span><span class="s1">c):</span>
    rab = np.zeros(t + <span class="s4">1</span><span class="s1">)</span>
    rab[<span class="s4">0</span><span class="s1">] = i</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        rab[month+<span class="s4">1</span><span class="s1">] = rab[month] + (g-d)*rab[month] * (</span><span class="s4">1</span><span class="s1">-rab[month]/c)</span>
        plt.plot(range(t+<span class="s4">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'blue'</span><span class="s1">)</span>
        plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
        plt.ylabel(<span class="s2">'Total number of rabbits (in millions)'</span><span class="s1">)</span>
        plt.title(<span class="s2">'Rabbit growth per month'</span><span class="s1">)</span>

<span class="s3"># numbers converted to millions</span>

<span class="s1">i = </span><span class="s4">200</span>
<span class="s1">g = </span><span class="s4">0.5</span>
<span class="s1">d = </span><span class="s4">0.07</span>
<span class="s1">t = </span><span class="s4">15</span>
<span class="s1">c = </span><span class="s4">10000 </span><span class="s3"># carrying capacity</span>

<span class="s1">rab2(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">c)</span>

plt.show()

<span class="s3"># Note that the units have been converted to millions. The plot suggests that over 10 years, if the rabbit population goes unchecked, they would skyrocket to their carrying</span>
# capacity of 10 billion again in a little over one year. Because this is obviously not what we intend, and the only
# purpose the capacity serves is in growth, I will be disregarding carrying capacity in future functions.

# the following function returns an equation that lets us have a poison with variable death rate. At a basis, we will
# assume a 90% fatality rate that degrades by 10% each year.

<span class="s0">def </span><span class="s1">poison(t):</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        fatality = <span class="s4">0.9</span>
        <span class="s1">degrade = </span><span class="s4">0.1</span>
        <span class="s1">p = fatality-((month*degrade)/</span><span class="s4">12</span><span class="s1">)</span>
        <span class="s0">if </span><span class="s1">p &lt; </span><span class="s4">0</span><span class="s1">:</span>
            p = <span class="s4">0</span>

<span class="s3"># here is a function that adds the poison into the factor. Since the death rate is variable and would make the process</span>
# more confusing, I will remove it to be further certain of the poison's efficacy.

<span class="s1">fat = </span><span class="s4">0.9 </span><span class="s3"># fatality rate of poison</span>
<span class="s1">deg = </span><span class="s4">0.1 </span><span class="s3"># degradation of poison</span>

<span class="s0">def </span><span class="s1">rab3(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">fat</span><span class="s0">, </span><span class="s1">deg):</span>
    rab = np.zeros(t + <span class="s4">1</span><span class="s1">)</span>
    rab[<span class="s4">0</span><span class="s1">] = i</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        p = fat - ((month * deg) / <span class="s4">12</span><span class="s1">)</span>
        <span class="s0">if </span><span class="s1">p &lt; </span><span class="s4">0</span><span class="s1">:</span>
            p = <span class="s4">0</span>
        <span class="s1">rab[month+</span><span class="s4">1</span><span class="s1">] = rab[month] + (g-p)*rab[month]</span>
        plt.plot(range(t+<span class="s4">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'green'</span><span class="s1">)</span>
        plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
        plt.ylabel(<span class="s2">'Total number of rabbits (in millions)'</span><span class="s1">)</span>
        plt.title(<span class="s2">'Rabbit population by month'</span><span class="s1">)</span>

t = <span class="s4">12</span>

<span class="s1">rab3(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">fat</span><span class="s0">,</span><span class="s1">deg)</span>

plt.show()

<span class="s3"># this plot makes it look like the 90% efficient poison would be able to eliminate the rabbits in a year, but it is</span>
# important to mind the axes. If we zoom in, we see that the population stables out at 0.07, or 70 thousand rabbits.

<span class="s1">t = </span><span class="s4">36</span>

<span class="s1">rab3(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">fat</span><span class="s0">,</span><span class="s1">deg)</span>

plt.show()

<span class="s3"># this plot does show that with the 90% efficient poison, the rabbit population would be reduced to under 10 in about</span>
# three years

# also, poisoning the rabbit population carries with it some risks to the natural environment as well as there being
# the obvious case that you can't simply poison the entire population with certainty for years at a time. To this end,
# I looked further into the use of poison bait for rabbits. https://www.pestsmart.org.au/pestsmart-poison-baiting-for-rabbit-control/

# This site informs us that actually the 90% estimate of poison efficacy is lower than actual poison bait, which is said
# able to wipe out 95% of a rabbit population.

# for this model, I believe the best way to estimate this would be to see if 95% of the rabbit population is eliminated
# once every four months, if it would be possible to eliminate the population or if the rabbits would reproduce too
# quickly for that to be viable.

# because we're dealing with a different application of the poison, I believe it should be fine to remove the
# degradation of the poison's effectiveness and assume that every time the poison is used it will kill 95% of the
# rabbit population, or in other words, it will raise the death rate to 0.95.

<span class="s0">def </span><span class="s1">rab4(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">d):</span>
    rab = np.zeros(t+<span class="s4">1</span><span class="s1">)</span>
    rab[<span class="s4">0</span><span class="s1">] = i</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        <span class="s0">if </span><span class="s1">is_int(month/</span><span class="s4">4</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
            rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g-</span><span class="s4">0.95</span><span class="s1">)*rab[month]</span>
        <span class="s0">else</span><span class="s1">:</span>
            rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g - d) * rab[month]</span>
    plt.plot(range(t + <span class="s4">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'purple'</span><span class="s1">)</span>
    plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
    plt.ylabel(<span class="s2">'Total number of rabbits (in millions)'</span><span class="s1">)</span>
    plt.title(<span class="s2">'Rabbit population by month'</span><span class="s1">)</span>

rab4(t<span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># as we see here, if we use the poison once every four months it makes a difference in the total population, but</span>
# it is being applied too infrequently and the rabbit population does quickly bounce back.

# I played around more with the application of the poison, and it seems that it is close to working - if we could
# apply the poison every two months, then the rabbit population would decline.

# Since we do not have the luxury of using the poison that frequently, instead we will try to reduce the birth rate of
# the rabbits. Rather, let's make this a question of how effective would the reduction of birth rate need to be.

# Controlling the birth rate itself is a complicated issue, but one we can use prior coding to emulate. Obviously, because
# labor and time is limited, we can assume that the control of the birth rate would be dependent on the rabbit population.
# It is easy to find a warren while the population is large, but at the same time there are far more warrens that would
# need to be controlled with a large population.

<span class="s1">g = </span><span class="s4">0.3</span>

<span class="s1">rab4(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># we can see that if we reduce the birth rate from 50% growth per month into 30% growth per month, the rabbit population</span>
# will be under control. But reducing the rate is not as simple as that. In order to determine how viable that would be,
# I will consider adding some forms of population control

# according to RFA, it is most effective to try and destroy warrens in the Summer. So, for a new model, I will assume
# a flat decrease of the growth rate by 0.05 due to year-round control methods and an additional reduction in growth
# rate by 0.3 once per year, at the same time as one of the administrations of poison.

<span class="s1">t = </span><span class="s4">120</span>
<span class="s1">g = </span><span class="s4">0.5</span>

<span class="s0">def </span><span class="s1">rab5(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">d):</span>
    rab = np.zeros(t+<span class="s4">1</span><span class="s1">)</span>
    rab[<span class="s4">0</span><span class="s1">] = i</span>
    g = g - <span class="s4">0.05</span>
    <span class="s1">g2 = g - </span><span class="s4">0.3</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        <span class="s0">if </span><span class="s1">is_int(month/</span><span class="s4">4</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
            <span class="s0">if </span><span class="s1">is_int(month/</span><span class="s4">12</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
                rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g2-</span><span class="s4">0.95</span><span class="s1">)*rab[month]</span>
            <span class="s0">else</span><span class="s1">:</span>
                rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g-</span><span class="s4">0.95</span><span class="s1">)*rab[month]</span>
        <span class="s0">else</span><span class="s1">:</span>
            rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g - d) * rab[month]</span>
    plt.plot(range(t + <span class="s4">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'orange'</span><span class="s1">)</span>
    plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
    plt.ylabel(<span class="s2">'Total number of rabbits (in millions)'</span><span class="s1">)</span>
    plt.title(<span class="s2">'Rabbit population by month'</span><span class="s1">)</span>

rab5(t<span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># This plot shows that, if measures such as fencing and trapping can control the rabbit population by reducing the</span>
# growth rate by 5% flatly, and if once a year a warren destruction process is used and can reduce the growth by an
# additional 20%, as well as three annual applications of poison, the rabbit population will rapidly decline.

# The population does not hit 0, but it is steadily in decline. If these rates can be sustained over an extremely
# long period, eventually the population will be controlled. However, the rabbit population still is able to recover
# simply too quickly, so it would take potentially hundreds of years to mitigate them entirely with these rates.

# However, let's assume instead that we apply the warren control one month before the poison is applied, and that we
# monitor the warrens to ensure that they are not rebuilt until the end of the Summer. This would allow us to apply
# the reduction of the growth rate on the population for three months rather than just one.

<span class="s0">def </span><span class="s1">rab6(t</span><span class="s0">, </span><span class="s1">i</span><span class="s0">, </span><span class="s1">g</span><span class="s0">, </span><span class="s1">d):</span>
    rab = np.zeros(t+<span class="s4">1</span><span class="s1">)</span>
    rab[<span class="s4">0</span><span class="s1">] = i</span>
    g = g - <span class="s4">0.05</span>
    <span class="s1">g2 = g - </span><span class="s4">0.3</span>
    <span class="s0">for </span><span class="s1">x </span><span class="s0">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s0">,</span><span class="s1">t):</span>
        month = x
        <span class="s0">if </span><span class="s1">is_int(month/</span><span class="s4">4</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
            <span class="s0">if </span><span class="s1">is_int(month/</span><span class="s4">12</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
                rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g2-</span><span class="s4">0.95</span><span class="s1">)*rab[month]</span>
            <span class="s0">else</span><span class="s1">:</span>
                rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g-</span><span class="s4">0.95</span><span class="s1">)*rab[month]</span>
        <span class="s0">else</span><span class="s1">:</span>
            <span class="s0">if </span><span class="s1">is_int((month + </span><span class="s4">1</span><span class="s1">)/</span><span class="s4">12</span><span class="s1">) </span><span class="s0">is True or </span><span class="s1">is_int((month - </span><span class="s4">1</span><span class="s1">)/</span><span class="s4">12</span><span class="s1">) </span><span class="s0">is True</span><span class="s1">:</span>
                    rab[month+<span class="s4">1</span><span class="s1">] = rab[month] + (g2 - d) * rab[month]</span>
            <span class="s0">else</span><span class="s1">:</span>
                rab[month + <span class="s4">1</span><span class="s1">] = rab[month] + (g - d) * rab[month]</span>
    plt.plot(range(t + <span class="s4">1</span><span class="s1">)</span><span class="s0">, </span><span class="s1">rab</span><span class="s0">, </span><span class="s1">color=</span><span class="s2">'pink'</span><span class="s1">)</span>
    plt.xlabel(<span class="s2">'Time (months)'</span><span class="s1">)</span>
    plt.ylabel(<span class="s2">'Total number of rabbits (in millions)'</span><span class="s1">)</span>
    plt.title(<span class="s2">'Rabbit population by month'</span><span class="s1">)</span>

t = <span class="s4">120</span>

<span class="s1">rab6(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># This shows that in about 10 years, assuming all rates are constant, the rabbit population will drop to 500 thousand.</span>
# This is a much more manageable number but there is a strong assumption in place. However, it also does not account
# for other ways to control the population such as hunting and trapping, or other ways to regulate the growth once certain
# areas have been cleared out (such as vermin-proof fencing) which may more significantly impact the growth rate or
# death rate during the non-poison months.

<span class="s1">i = </span><span class="s4">0.5</span>
<span class="s1">t = </span><span class="s4">180</span>

<span class="s1">rab6(t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">d)</span>

plt.show()

<span class="s3"># This graph shows that in another 15 years of applying this practice, it would drop the rabbit population to about 70</span>
# rabbits. This is an unlikelihood, as the rabbits are likely to develop resistance to the poison (unless new poisons
# with comparable rates get developed) and warren control will likely be more difficult as the population decreases,
# but in theory the rabbit population could be eliminated with poison alone in about 25 years.

# To conclude, I believe that these models show that, since it is possible to dramatically reduce the rabbit population
# in a ten-year period and theoretically eliminate the population in a quarter of a century, without even using alternative
# methods of population control, that the idea of a Rabbit-Free Australia is certainly plausible.</pre>
</body>
</html>